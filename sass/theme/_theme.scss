// Theme

// 1

// @import "utils/utils";
// @import "components/components";
// @import "global/global";
// @import "layouts/layouts";
// @import "modules/modules";
// @import "pages/pages";
// @import "wp/wp";

// ======= Footnotes ======= //

// 1. Vars are imported in "styles.scss"

%darker-palette {
	background-color: $black;
	@include light-text-dark-bg;
}
%section-wide {
	@extend .section;
	@extend .section__background;
	.container {
		max-width: $container-width_medium;
	}
}
#preheader, #header-bottom {@extend %section-wide;}
#preheader, #colophon, #masthead {@extend %darker-palette;}

#preheader {
	background-color: rgba( $black, .85 );
}

#masthead {
	.container {
		padding-top: 1.5rem;
		padding-bottom: 1.5rem;
	}
	.site-logo {
		font-size: 2.4rem;
		font-weight: bold;
		// text-transform: uppercase;
	}
}

#colophon {
	background-color: rgba( $black, .85 );
	position: relative;
	@include bp($tablet){
		background-color: #eee;
	}

	& > .container {

	@media (min-width: $tablet){
		display: grid;
		grid-auto-flow: row;
		align-items: start;
		grid-column-gap: $grid-column-gap;
		grid-row-gap: 1rem;
		grid-template-columns: repeat(2, 1fr);
		grid-template-rows: repeat(3, auto);
	}
	&>div, &>ul {
		margin-bottom: 1rem;
		@media (min-width: $tablet){margin-bottom: 0;}
	}
		
	.menu {
		grid-column: 1 / 2 ;
		grid-row: 1 / 2;
		
		@media (min-width: $tablet){margin-bottom: 2rem;}

		li {
			display: block;
			text-align: left;
		}
	}
	}
	.social-media-links {
		font-size: 2rem;
		grid-column: 2 / 3 ;
		grid-row: 2 / 3;
	}
	.site-info {
		&__design-credit {
			grid-column: 1 / 2 ;
			grid-row: 2 / 3;
		}
		&__copyright {
			grid-column: 1 / 2 ;
			grid-row: 2 / 3;
			margin: 1.5rem 0 0 ;
		}
		
	}
	.form__mailchimp {
		grid-column: 2 / 3 ;
		grid-row: 1 / 4;
		header {
			h2 {
				font-size: inherit; 
				font-weight: inherit; 
			}
			
		}
		footer, label, .button {display: none;}
		.mc-field-group {
			&__first, 
			&__last {
				display: none;
			}
		}
	}
}

.posts {
	@extend %section-wide;
	&-related {
		@extend %darker-palette;
		.media-object-content {
			@media (min-width: $tablet){
				display: none;
			}			
		}
	}

	// .posts__container
	&__container {
		@media (min-width: $tablet){
			align-items: stretch;		
			grid-gap: 1.5rem;
			grid-template-columns: repeat(5, 1fr);
			grid-template-rows: repeat(2, auto);
			
		}

		.posts-related & {
			align-items: start;
			@media (min-width: $tablet){
				align-items: end;
			}
		}
		&.clone {
			display: none;
			@media (min-width: $tablet){
				display: grid;
				align-items: start;
			}
			.media-object-content {
				@media (min-width: $tablet){
					display: block;
				}
			}
			.media-object-media {
				display: none;
			}
		}
	}
}

.post {
	display: block;
	.single & {
		display: block;
	}
	.posts & {
		background-color: #eee;
		.entry-title {
			font-size: 1.4rem;
			line-height: 1.25;
			margin-bottom: 0;
		}
		footer {
			@extend .visuallyhidden;
		}
		.post-subheader {
			font-family: $alt-font-family;
			margin-top: 5px;
			color: rgba( $black, .3 );
		}
	}
	&:first-of-type {
		.posts-latest & {
			grid-column: 1 / 3 ;
		}
	}

	&:last-of-type {
		.posts-latest & {
			display:none;
		}
	}

	.posts-related & {
		background-color: transparent;
		.post-subheader {
			color: rgba( $white, .5 );
		}
	}

}

article {
	.posts & {
		padding: 1rem;
	}
	.posts-related & {
		padding: 0;
	}
}

#paging-navigation {
	@extend %section-wide;
	@extend .section-minor;
}

.cover {
	&__section {

	}

	&__container {
		padding: 0;
		@extend .container;
	}
	h1 {
		margin: 0;
	}
}

.contact {
	&__section {
		@extend %section-wide;
		position: relative;
	  	z-index: 1;
		background-color: #eee;
		@media (min-width: $tablet){
			background-image: url("https://images.duckduckgo.com/iu/?u=http%3A%2F%2Fassets.carbonbrief.org%2Fwp-content%2Fuploads%2F2015%2F08%2Fstock-forest-wood-england-UK-1550x804.jpg&f=1");
		}
		&:after {
			@media (min-width: $tablet){
				content: '';
			    position: absolute;
			    top: 0;
			    bottom: 0;
			    left: 50%;
			    right: -50%;
				background-color: #eee;
				height: 100%;
				width: 50%;
				z-index: -1;
			}
		}
	}
	&__container {
		@extend .container;
		@media (min-width: $tablet){
			display: grid;
	    	grid-template-columns: repeat(2, 1fr);
	    	grid-template-rows: repeat(1, auto);
	    	grid-gap: 3rem;
    	}
	}
	&__image {
		display: none;
		@media (min-width: $tablet){
			display: block;
		}
	}
}